CROSS = 
CC = $(CROSS)gcc
CXX = $(CROSS)g++
CXXFLAGS += -std=c++11
#-O0 没优化 -O3 最高优化 -g激活调试
DEBUG = -g -O2
CFLAGS = $(DEBUG) -Wall -c
RM = rm -rf
BUILD = ./build/

mkfile_path := $(abspath $(lastword $(MAKEFILE_LIST)))  #获取当前正在执行的makefile的绝对路径
$(warning  $(mkfile_path)) 
SRCS = $(wildcard ./src/*.cpp)
$(warning  $(SRCS)) 
OBJ_NAMES = $(notdir $(SRCS))
$(warning  $(OBJ_NAMES)) 
OBJS = $(patsubst %.cpp, $(BUILD)%.o, $(OBJ_NAMES))
$(warning  $(OBJS)) 
HEADER_PATH = ./src/include/
LIB_PATH = ./thridParty/

VERSION = 0_91
TARGET = CharP_$(VERSION)
$(warning  $(TARGET) : $(OBJS)) 


#For libs $(CXX) $^ -o $@ -L $(LIB_PATH) $(LIBS)
$(TARGET): $(OBJS)
	$(CXX) $^ -n -o $@

$(OBJS):%.o %.cpp 
	$(CXX) $(CFLAGS) $< -o $@ -I $(HEADER_PATH)

clean:
	$(RM) $(TARGET) *.o 
